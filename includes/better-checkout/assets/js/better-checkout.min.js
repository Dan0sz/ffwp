var edd_global_vars;jQuery(document).ready((function($){var ffwp_checkout;({init:function(){$(document.body).on("edd_taxes_recalculated",this.add_class),$("#ffwpress_checkout_shopping_cart .edd-apply-discount").on("click",(function(){$("#edd_checkout_form_wrap .edd-apply-discount").click()})),$(document).on("edd_cart_billing_address_updated",this.set_loader_cart),$(document).on("edd_eu_vat:before_vat_check",this.set_loader_cart),$("#billing_country").on("change",this.set_loader_cart),$(".edd-apply-discount").on("click",this.set_loader_cart),$(document).on("click","#edd_payment_mode_select input",this.check_vat)},add_class:function(){var $result_data=$("#edd-vat-check-result").data("valid"),$validate_button=$("#edd-vat-check-button");1===$result_data?($validate_button.addClass("ffwp-vat-valid"),$validate_button.val("Valid")):($validate_button.removeClass("ffwp-vat-valid"),$validate_button.val("Validate"))},set_loader_cart:function(){var $cart=$("#edd_checkout_cart");$cart.append('<span class="ffwp-loader edd-loading-ajax edd-loading"></span>'),$cart.css({opacity:.5})},check_vat:function(){var billing_country=$("#billing_country").val(),vat_number=$("#edd-vat-number").val();$.ajax({type:"POST",url:edd_global_vars.ajaxurl,data:{action:"edd_vat_check",billing_country:billing_country,vat_number:vat_number,nonce:$("#edd-checkout-address-fields-nonce").val()},complete:function(){}})}}).init()}));